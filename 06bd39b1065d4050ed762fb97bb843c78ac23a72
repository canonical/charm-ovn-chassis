{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0fb34806_9627c20b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 24824
      },
      "writtenOn": "2022-08-29T19:28:44Z",
      "side": 1,
      "message": "rechecking since https://github.com/openstack-charmers/charm-layer-ovn/pull/64 is merged",
      "revId": "06bd39b1065d4050ed762fb97bb843c78ac23a72",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2172e5f_e976c3f3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 24824
      },
      "writtenOn": "2022-08-29T19:28:51Z",
      "side": 1,
      "message": "recheck",
      "revId": "06bd39b1065d4050ed762fb97bb843c78ac23a72",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d037d1b_00e04b43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 24824
      },
      "writtenOn": "2022-09-06T12:04:30Z",
      "side": 1,
      "message": "Tried it locally:\n\nroot@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# grep jsonschema wheelhouse.txt \njsonschema\u003c4.6\n\nroot@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# find wheelhouse/ -name jsonschema*\nwheelhouse/jsonschema-3.2.0.tar.gz\n\nThe jsonschema pin is in but there is a different issue still:\n\nhttps://paste.opendev.org/show/bLFUM97CeNMRErKYgLJH/\n\nunit-ovn-chassis-0: 11:56:05 DEBUG unit.ovn-chassis/0.install Processing ./wheelhouse/pyrsistent-0.18.0.tar.gz\nunit-ovn-chassis-0: 11:56:05 DEBUG unit.ovn-chassis/0.install   Installing build dependencies: started\nunit-ovn-chassis-0: 11:56:08 DEBUG unit.ovn-chassis/0.install   Installing build dependencies: finished with status \u0027error\u0027\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   error: subprocess-exited-with-error\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   \nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   × pip subprocess to install build dependencies did not run successfully.\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   │ exit code: 1\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   ╰─\u003e [3 lines of output]\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install       Looking in links: wheelhouse\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install       ERROR: Could not find a version that satisfies the requirement setuptools\u003e\u003d42 (from versions: 41.6.0)\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install       ERROR: No matching distribution found for setuptools\u003e\u003d42\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install       [end of output]\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   \nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install   note: This error originates from a subprocess, and is likely not a problem with pip.\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install error: subprocess-exited-with-error\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install \nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install × pip subprocess to install build dependencies did not run successfully.\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install │ exit code: 1\nunit-ovn-chassis-0: 11:56:08 WARNING unit.ovn-chassis/0.install ╰─\u003e See above for output.\n\n\n",
      "revId": "06bd39b1065d4050ed762fb97bb843c78ac23a72",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "786763b2_0984dec8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 24824
      },
      "writtenOn": "2022-09-09T12:58:54Z",
      "side": 1,
      "message": "The issue is with setuptools: the version shipped in the wheelhouse dir is lower than what is required by pyrsistent-0.18.0 (it has setuptools\u003e\u003d42 in pyproject.toml, see below):\n\nroot@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# find wheelhouse/ -name setuptools-*\nwheelhouse/setuptools-41.6.0.zip\n\n\nroot@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# . ../.venv/bin/activate\n(.venv) root@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# ls\nLICENSE   README.md  actions.yaml  config.yaml  copyright.layer-options  files  icon.svg    lib               manifest.yaml  pip.sh    requirements.txt  templates              tests    wheelhouse\nMakefile  actions    bin           copyright    exec.d                   hooks  layer.yaml  lxd-profile.yaml  metadata.yaml  reactive  revision          test-requirements.txt  tox.ini  wheelhouse.txt\n\n(.venv) root@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# /var/lib/juju/agents/unit-ovn-chassis-0/.venv/bin/pip install -U --force-reinstall --no-index --no-cache-dir -f wheelhouse jsonschema\u003d\u003d3.2.0 attrs\u003d\u003d22.1.0 pyrsistent\u003d\u003d0.18.0 importlib-metadata\u003d\u003d4.8.3 netaddr\u003d\u003d0.7.19 netifaces\u003d\u003d0.11.0 six\u003d\u003d1.16.0 pbr\u003d\u003d5.10.0 pyaml\u003d\u003d21.10.1 Jinja2\u003d\u003d3.0.3 psutil\u003d\u003d5.9.1 PyYAML\u003d\u003d5.3.1 charms.reactive\u003d\u003d1.5.0 charms.openstack\u003d\u003d0.0.1.dev1 zipp\u003d\u003d3.6.0 charmhelpers\u003d\u003d1.1.1.dev37 dnspython\u003d\u003d1.16.0 typing-extensions\u003d\u003d4.1.1\nLooking in links: wheelhouse\nProcessing ./wheelhouse/jsonschema-3.2.0.tar.gz\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Installing backend dependencies ... done\n  Preparing metadata (pyproject.toml) ... done\nProcessing ./wheelhouse/attrs-22.1.0.tar.gz\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nProcessing ./wheelhouse/pyrsistent-0.18.0.tar.gz\n  Installing build dependencies ... error\n  error: subprocess-exited-with-error\n  \n  × pip subprocess to install build dependencies did not run successfully.\n  │ exit code: 1\n  ╰─\u003e [3 lines of output]\n      Looking in links: wheelhouse\n      ERROR: Could not find a version that satisfies the requirement setuptools\u003e\u003d42 (from versions: 41.6.0)\n      ERROR: No matching distribution found for setuptools\u003e\u003d42\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\nerror: subprocess-exited-with-error\n\n× pip subprocess to install build dependencies did not run successfully.\n│ exit code: 1\n╰─\u003e See above for output.\n\n\n(.venv) root@juju-0ff637-zaza-69556117bb2f-8:/var/lib/juju/agents/unit-ovn-chassis-0/charm# /var/lib/juju/agents/unit-ovn-chassis-0/.venv/bin/pip install -U --force-reinstall --no-index --no-cache-dir -f wheelhouse pyrsistent\u003d\u003d0.18.0\nLooking in links: wheelhouse\nProcessing ./wheelhouse/pyrsistent-0.18.0.tar.gz\n  Installing build dependencies ... error\n  error: subprocess-exited-with-error\n  \n  × pip subprocess to install build dependencies did not run successfully.\n  │ exit code: 1\n  ╰─\u003e [3 lines of output]\n      Looking in links: wheelhouse\n      ERROR: Could not find a version that satisfies the requirement setuptools\u003e\u003d42 (from versions: 41.6.0)\n      ERROR: No matching distribution found for setuptools\u003e\u003d42\n      [end of output]\n  \n  note: This error originates from a subprocess, and is likely not a problem with pip.\nerror: subprocess-exited-with-error\n\n× pip subprocess to install build dependencies did not run successfully.\n│ exit code: 1\n╰─\u003e See above for output.\n\n\nroot@juju-0ff637-zaza-69556117bb2f-8:/tmp/pyrsistent/pyrsistent-0.18.0# grep -RiP setuptools\npyproject.toml:requires \u003d [\"setuptools\u003e\u003d42\", \"wheel\"]\npyproject.toml:build-backend \u003d \"setuptools.build_meta\"\nsetup.py:from setuptools import setup, Extension\nCHANGES.txt: * Same as 0.17.1 released with more recent version of setuptools to get proper meta data for in place.\nCHANGES.txt: * Fix #129, building via setuptools and setup.py. Thanks @galuszkak for this!",
      "parentUuid": "5d037d1b_00e04b43",
      "revId": "06bd39b1065d4050ed762fb97bb843c78ac23a72",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}